<!doctype html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">

  <title>IoT4/20070 - MASTERS 2016</title>

  <!-- Favicon -->
  <link rel="icon" href="/assets/favicon.png">

  <!-- Style -->
  <link  href='/masters16/assets/github-markdown.css' rel='stylesheet'>
  <link href='/masters16/assets/style.css' rel='stylesheet'>
</head>
<body>
<article class="markdown-body">
<h1 id="lab-1-getting-started-with-the-exositeready-sdk">Lab 1 - Getting Started with the ExositeReady SDK</h1>
<p>The ExositeReady SDK is a software framework provided by Exosite to ease development of production-quality embedded device firmware for IoT products. It&#39;s open source software, provided under the Apache-2.0 license, that means that you&#39;re free to do whatever you&#39;d like with it as long as you share any changes to the SDK itself while being able to keep the rest of your application&#39;s code private if that&#39;s what you&#39;d like.</p>
<p>In this lab you&#39;ll go through getting the PIC32MZ Embedded Connectivity Starter Kit flashed with the demo firmware provided alongside the ER SKD. You&#39;ll learn the basics of what is required to get IoT devices connected to the Exosite platform and see real-time data from your devices streaming to your web browser.</p>
<h2 id="requirements">Requirements</h2>
<ul>
<li>PIC32MZ Embedded Connectivity Starter Kit</li>
<li>An Internet Connection</li>
<li>A Computer with MPLAB IDE, including:<ul>
<li>MPLABX IDE v 3.30</li>
<li>Harmony v1.08</li>
<li>XC32 v1.40b</li>
</ul>
</li>
<li>The ExositeReady SDK, plus<ul>
<li>The PIC32MZECSK port &amp; example application</li>
</ul>
</li>
</ul>
<p>If you don&#39;t have any of the above software installed, see the <a href="../setup">Lab Setup Guide</a> before proceeding with this Lab. MASTERS attendees that have access to the in-class lab computers should have everything setup already.</p>
<h1 id="let-s-go">Let&#39;s Go</h1>
<p>First you&#39;ll want to open MPLAB X.</p>
<p><img src="../images/mplabx.png" alt="MPLABX IDE Screenshot"></p>
<p>And open the <code>exositeready_pic32mz</code> project, which can be found in the &quot;C:\microchip\harmony\v1_08\apps\exositeready_pic32mz\firmware&quot; folder.</p>
<p><img src="../images/open_example_project.png" alt="Open Example Project"></p>
<p>You can now explore the source of this project if you&#39;d like.</p>
<p><img src="../images/example_project_fresh.png" alt="Example Project Fresh"></p>
<h2 id="running-the-example">Running the Example</h2>
<p>Before we dig into what the code is doing, let&#39;s build, flash, and run the provided example.</p>
<p>Connect the Starter Kit board to you computer using both mini USB connectors; one is for the onboard debugger and the other is for access to the serial terminal.</p>
<p>If you have more than one project open in MPLAB, make sure that the <code>exositeready_pic32mz</code> project is set as the main project, it&#39;s name should appear in the window&#39;s title bar, you can do this simply clicking on the project in the &#39;Projects&#39; tab in the left-side bar.</p>
<p>If you have more than one project open, make sure that the <code>exositeready_pic32mz</code> project is set as the currently active project. The click the &quot;Make and Program Device Main Project&quot; button.</p>
<p><img src="../images/make_and_program_device_main_project_button.png" alt="Make and Program Device Main Project Button"></p>
<p>You may be prompted to select a different device, this will happen if the starter kit you&#39;re using isn&#39;t the last one used with this project. MPLAB should offer to switch to the kit that is currently connected to your computer; just click &quot;OK&quot;. If you&#39;re shown a list of tools, there should only be one valid option. Choose the item listed under &quot;Starter Kits (PKOB)&quot;.</p>
<p><img src="../images/tool_list.png" alt="Tool List"></p>
<p>It will take several minutes to compile and flash the board.</p>
<p>Once this is complete, the board will boot the demo application, connect to Exosite&#39;s servers, and begin reading &amp; writing data. Once this happens you should see the three LEDs along the 40-pin header turn on.</p>
<p>To follow the progress of the application booting and connecting you can use a serial terminal application to view the application&#39;s debug log. Open the serial terminal application on the computer and connect to the virtual serial port provided by the device, it should be the only one available on your computer.</p>
<!-- NTS: Expand the above section after figuring out what application they will have on these machines. -->
<h2 id="interacting-with-the-board-via-the-web">Interacting with the Board Via the Web</h2>
<p>Once the board has booted the application and connected you can control the LEDs and see the status of the buttons through a custom web app that was created specifically for this class.</p>
<p>To find your board, go to <a href="https://labui.apps.exosite-dev.io/">https://labui.apps.exosite-dev.io/</a> and find your board in the list by looking at the MAC address. (Note: You can find you device&#39;s MAC address by watching the serial terminal output when you first boot the application.) Select your device and toggle some of the LEDs on and off or press the switches on the board to see the indicators in the webui change.</p>
<blockquote>
<p>Note: I would suggest leaving this project open, lab 2 will pickup where this one left off.</p>
</blockquote>

</article>
</body>
</html>
